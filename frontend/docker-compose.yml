version: "3.9"

services:
  frontend:
    build:
      context: .
      args:
        # En despliegues por separado, el frontend hablará con el backend vía Nginx
        # usando el prefijo /apis/ia (proxy en nginx.conf)
        VITE_API_BASE_URL: "/apis/ia"
    image: ${DOCKERHUB_USER:-local}/apis-ia-frontend:latest
    container_name: apis-ia-frontend
    ports:
      - "4200:80"
    networks:
      - apis-net

networks:
  apis-net:
    external: true
